<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Virtual Piano - Play music online with realistic sound">
    <title>Virtual Piano - Harmonica</title>
    <link rel="icon" type="image/png" sizes="48x48" href="images/fav.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/fav.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/fav.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .piano-container {
            padding: 3rem 1rem;
            min-height: calc(100vh - 80px);
            background: linear-gradient(135deg, #F8F9FA 0%, #E8E9F3 100%);
        }

        .piano-intro {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 2rem;
        }

        .piano-intro h1 {
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .piano-intro p {
            color: var(--neutral-dark);
            opacity: 0.8;
            font-size: 1.125rem;
        }

        .piano-wrapper {
            max-width: 1200px;
            margin: 2rem auto;
            background: white;
            border-radius: 1.5rem;
            padding: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .control-group label {
            font-weight: 600;
            color: var(--neutral-dark);
        }

        .control-group select,
        .control-group input[type="range"] {
            padding: 0.5rem;
            border: 2px solid var(--primary);
            border-radius: 0.5rem;
            font-family: var(--font-body);
            cursor: pointer;
        }

        .control-group input[type="range"] {
            width: 150px;
        }

        .piano {
            position: relative;
            display: flex;
            justify-content: center;
            margin: 2.5rem auto 0 auto;
            height: 340px;
            max-width: 100vw;
            overflow: hidden;
            padding: 0;
        }

        .piano-keys {
            display: flex;
            position: relative;
            height: 100%;
            width: 1080px; /* 15 white keys * 72px each */
            max-width: 100vw;
        }

        .key {
            position: relative;
            border: 1px solid #000;
            cursor: pointer;
            transition: all 0.1s ease;
            user-select: none;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding-bottom: 1rem;
        }

        .key:focus {
            outline: 3px solid var(--accent);
            outline-offset: -3px;
            z-index: 100;
        }

        .white-key {
            width: 72px;
            height: 340px;
            background: linear-gradient(to bottom, #ffffff 0%, #f5f5f5 100%);
            border-radius: 0 0 10px 10px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.13);
        }

        .white-key:hover {
            background: linear-gradient(to bottom, #f0f0f0 0%, #e8e8e8 100%);
        }

        .white-key:active,
        .white-key.active {
            background: linear-gradient(to bottom, #6C63FF 0%, #5448C8 100%);
            transform: translateY(2px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .black-key {
            width: 44px;
            height: 210px;
            background: linear-gradient(to bottom, #2a2a2a 0%, #000000 100%);
            border-radius: 0 0 8px 8px;
            position: absolute;
            z-index: 10;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.33);
        }

        .black-key:hover {
            background: linear-gradient(to bottom, #3a3a3a 0%, #1a1a1a 100%);
        }

        .black-key:active,
        .black-key.active {
            background: linear-gradient(to bottom, #FF6B9D 0%, #FF5280 100%);
            transform: translateY(2px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
        }

        .key-label {
            font-size: 0.875rem;
            font-weight: 600;
            font-family: var(--font-mono);
            color: #666;
            pointer-events: none;
        }

        .black-key .key-label {
            color: #fff;
        }

        .white-key.active .key-label {
            color: white;
        }

        .keyboard-hints {
            text-align: center;
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(108, 99, 255, 0.1);
            border-radius: 1rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .keyboard-hints h3 {
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .keyboard-hints p {
            color: var(--neutral-dark);
            opacity: 0.8;
            margin-bottom: 0.5rem;
        }

        .keyboard-map {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .keyboard-key {
            background: white;
            padding: 0.5rem;
            border-radius: 0.5rem;
            border: 2px solid var(--primary);
            font-family: var(--font-mono);
            font-size: 0.875rem;
        }

        @media (max-width: 768px) {
            .piano {
                height: 180px;
            }

            .piano-keys {
                width: 540px;
            }

            .white-key {
                width: 36px;
                height: 180px;
            }

            .black-key {
                width: 22px;
                height: 110px;
            }

            .key-label {
                font-size: 0.85rem;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .control-group {
                justify-content: space-between;
            }
        }

        @media (max-width: 480px) {
            .piano-keys {
                width: 270px;
            }
            .white-key {
                width: 18px;
            }

            .black-key {
                width: 10px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <img src="images/logo.png" alt="Harmonica Logo" class="logo">
                <span class="brand-name">Harmonica</span>
            </div>
            <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
                <span class="hamburger"></span>
            </button>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="circle.html" class="nav-link">Circle of Fifths</a></li>
                <li><a href="piano.html" class="nav-link active">Piano</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
            </ul>
        </nav>
    </header>

    <main class="piano-container">
        <div class="piano-intro">
            <h1>Virtual Piano</h1>
            <p>Play single notes with your keyboard or mouse. Choose different octaves and wave types to explore various sounds. (Chords are not supported.)</p>
        </div>
        <div class="piano-wrapper">
            <div class="controls">
                <div class="control-group">
                    <label for="octaveSelect">Octave:</label>
                    <select id="octaveSelect" aria-label="Octave select">
                        <option value="3">3</option>
                        <option value="4" selected>4</option>
                        <option value="5">5</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="waveSelect">Wave Type:</label>
                    <select id="waveSelect" aria-label="Wave type select">
                        <option value="triangle">Triangle (Soft)</option>
                        <option value="sine">Sine (Pure)</option>
                        <option value="square">Square (Hollow)</option>
                        <option value="sawtooth">Sawtooth (Bright)</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="volumeControl">Volume:</label>
                    <input type="range" id="volumeControl" min="0" max="100" value="50" aria-label="Volume control">
                    <span id="volumeValue">50%</span>
                </div>
            </div>
            <div class="piano" id="piano">
                <div class="piano-keys" id="pianoKeys">
                    <!-- Piano keys will be generated by JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
            <div class="footer-content" style="display:flex; flex-direction:column; align-items:center;">
                <div class="footer-links" style="display:flex; gap:3rem; justify-content:center; flex-wrap:wrap;">
                    <div class="footer-column">
                        <h4 class="footer-heading">Explore</h4>
                        <ul class="footer-list">
                            <li><a href="circle.html" class="footer-link">Circle of Fifths</a></li>
                            <li><a href="piano.html" class="footer-link">Virtual Piano</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4 class="footer-heading">About</h4>
                        <ul class="footer-list">
                            <li><a href="about.html" class="footer-link">About Us</a></li>
                            <li><a href="about.html#contact" class="footer-link">Contact</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4 class="footer-heading">More Resources</h4>
                        <ul class="footer-list" style="display:grid; grid-template-columns: 1fr 1fr; gap:0.5em 2em; list-style:none; padding:0; margin:0;">
                            <li style="text-align:left;"><a href="https://www.musictheory.net/lessons/30" target="_blank" rel="noopener" class="footer-link">MusicTheory.net: Circle of Fifths</a></li>
                            <li style="text-align:left;"><a href="https://en.wikipedia.org/wiki/Circle_of_fifths" target="_blank" rel="noopener" class="footer-link">Wikipedia: Circle of Fifths</a></li>
                            <li style="text-align:left;"><a href="https://www.libertyparkmusic.com/circle-of-fifths/" target="_blank" rel="noopener" class="footer-link">Liberty Park Music: Circle of Fifths</a></li>
                            <li style="text-align:left;"><a href="https://www.youtube.com/watch?v=0m6smQk0K1k" target="_blank" rel="noopener" class="footer-link">YouTube: Circle of Fifths Explained</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Harmonica. All rights reserved.
                    <a href="https://github.com/Nathan-is-in-CS/Harmonica" class="footer-link" target="_blank" rel="noopener" style="vertical-align:middle; margin-left:0.5em;">
                        <img src="images/github-mark-white.svg" alt="GitHub Repository" style="height:1.5em; width:1.5em; vertical-align:middle; margin-right:0.3em;">GitHub Repo
                    </a>
                    <a href="https://www.musicca.com/" class="footer-link" target="_blank" rel="noopener" style="margin-left:1em;">Inspired by Musicca</a>
                </p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/piano.js"></script>
</body>
</html>